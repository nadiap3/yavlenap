ToDo
- try to get around using .first()
- improve waits

Test case notes

E2E Tests

Home Page
1. Selected filter carries over to properties page
    - click property type dropdown 
    - select a property type
    - click Search
    - on properties page, click the property type dropdown
    - verify that the previously selected property type is selected



    - Scroll down to Featured properties carousel
    - Verify that ID matches the anchor url
    - Verify that CTA button is available
    - click connect with broker button  
    - in popup
        - verify correct property name, id, location, price are the same
        - verify that send button is visible and active


    - Check if Right arrow exists
        - If yes -> Clcik it and repeat the process 3 times
    
2. Switch language to English
    - verify default language is Bulgarian
    - click language selector
    - click English
    - verify language on the page has changed to English

3. Switch language to Russian
Change language button
    - verify default language is Bulgarian
    - click language selector
    - click Russian
    - verify language on the page has changed to Russian


Service Page - uslugi 
1. verify that online message button is visible and active
2. verify that clicking online message button loads popup
3. inside popup, click send button 
    verify that popup requires fields to be filled before sending

Properties Search Page
https://www.yavlena.com/en/properties 
    Map and list display toggle works
        - select list view button
        - verify that property results are displayed in the list view
        - verify that map is not visible

        
    Filters
        - click property type Filter
        - select all zhileshtni imoti
        - verify that url contains all of the selected types 
        (extract string, split into array, check against array of elements)


brokers page

1. check that all brokers have needed information
    - load all brokers
    - get their data in an array
    - verify that each broker has name, location, properties, phone numbers

2. filtering by office
    - select office filtering
    - select an office
    - verify that all the brokers that load have that office location listed






API
Filtering data - might be more efficient to take care of in api tests
    Endpoints and query params
        ttps://www.yavlena.com/nomenclatures/getdistricts
        https://www.yavlena.com/about/getofficeslocation
        https://www.yavlena.com/home/getlocationinfo?cityName=%D0%A1%D0%BE%D1%84%D0%B8%D1%8F
        https://www.yavlena.com/nomenclatures/getlocationquarters?locationId=4230
        Check that each MainCityId returns valid array of objects for getlocationquarters locationid query param
        getlocationquarters?locationId=${MainCityId}
